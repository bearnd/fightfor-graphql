---

# PostgreSQL variables

# Define the encrypted SQL password variable outside the nested structures due
# to the issue described in https://stackoverflow
# .com/questions/50770524/ansible-vault-inline-variable-with-to-nice-json
# -unexpected-templating-type-erro
sql_password: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  65353164626630373133623831373638383666366638663939616636663366323434393837393033
  3436356263343466303365376666336330656139376364370a623037653232316531383335313062
  35386438373536353330653233316264363636376432646135346634316566666534646161623435
  3534303538363433330a386434663861306362643632313939663939306365383664323335616363
  38323262323266316232313539663032386530653233306663393165643161643338646439646437
  3737393864313766633133346432346439613363623931316637

# PostgreSQL Server Settings.
postgresql_python_library: "python-psycopg2"

# PostgreSQL Databases.
postgresql_databases:
  - name: "fightfor"
    port: 5432
  - name: "test"
    port: 5432

# PostgreSQL Users.
postgresql_users:
  - name: "{{ system.user }}"
    password: "{{ sql_password }}"
    port: 5432

# PostgreSQL schemata.
postgresql_schemata:
  - clinicaltrials
  - pubmed
  - mesh
  - app

# PostgreSQL extensions.
postgresql_extensions:
  - pg_trgm
  - postgis

# Auth0 variables.
auth0_dev_domain: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          34363234613261656238396161356432313061343461313962313866663532633035386562313136
          3336303236643566353363333563313666396566343736310a626662396239636539303265386130
          35633266383962646262653733306666643536613266393334323635323162646339393566613731
          6630336337396438320a633532396432336532336465353662356332303566393539316331643736
          36393634626333316133663432666239653433313731323732313332306635313231

auth0_dev_audience: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          62383162633832633232303866356431616436656337326334356430653238633230323235336332
          3438643130363334383461623566303035633361663138360a643936333066626361346332336533
          62326134396437306265393630666463626338316337376533646563313934383836366637653835
          3966633863353435330a303731616664373363366464333439306530636563356363353631306261
          65326538303539646132353762373734313937383166626437373631653238336362

auth0_dev_jwks_url: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          36633665633035323538643132633737326131346464326134323866643637663836373766323365
          3130363638313536626135623537346266623237623832300a313238643130353033633766623631
          35656239383130383064323938393566653334633361383030646333643136326433373264346363
          6339663165633137650a303239643763666631613463346161333866653135653338613432376535
          36376362313539363766333830343465316435653239633961326537313361633032363530623733
          6435646362653834346630313131383532303164303330633035

auth0_dev_client_id: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          32383933323537366630373733306537383539656335656263626363613961303239396536663033
          3538343433306266666631333034306338656662383966360a333334313966343836323764616461
          37363062663238636530653737386666313633306433636536326132323463623330393461646338
          3364623531346665390a343235316332643733323431323338613839393834333933363737393436
          31356239646165356464343832393031613136313731663762396536643935343162653932633835
          6631366166363832626430346135663536346233666332666332

auth0_dev_client_secret: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          32363336366263616662383031386263376665333764623431636633656566363263336238326538
          6134313331393135333933646566633634666333346561350a626639373135323363353237643036
          64636636336230383630353539643766666333653465333366343730646534633661346639663931
          6630373335303939300a623936326532393836653763616131393230633138633364346164626433
          37353030623731643736343465386436613532353966656234323065336335363765383333393463
          33633435313332313730313236626330343030313366613162333066363462383631623436376364
          34343330623932333565383564626362396163623239373337623830316330393739323235383439
          66616338353066303630

project:
  name: "fightfor-graphql"

system:
  # User name.
  user: "ffgraphql"
  # User group.
  group: "ffgraphql"
  # Application directories.
  directories:
    config: "/etc/{{ project.name }}"
    share: "/usr/local/share/{{ project.name }}"
    run: "/var/run/{{ project.name }}"
    log: "/var/log/{{ project.name }}"
    virtual_env: "/usr/local/share/{{ project.name }}/venvs/{{ project.name }}"

# Application Configuration Settings.
config:
  test:
    # General Settings.
    logger_level: DEBUG

    # PostgreSQL Server Configuration Settings.
    sql_host: "localhost"
    sql_port: 5432
    sql_username: "{{ system.user }}"
    sql_password: "{{ sql_password }}"
    sql_db: "test"

    # Gunicorn Configuration Settings.
    gunicorn:
      host: "0.0.0.0"
      port: 5555
      workers: 1
      threads: 1
      worker_class: sync
      timeout: 60

    # Auth0 configuration settings.
    auth0:
      domain: "{{ auth0_dev_domain }}"
      audience: "{{ auth0_dev_audience }}"
      jwks_url: "{{ auth0_dev_jwks_url }}"
      client_id: "{{ auth0_dev_client_id }}"
      client_secret: "{{ auth0_dev_client_secret }}"

  dev:
    # General Settings.
    logger_level: DEBUG

    # PostgreSQL Server Configuration Settings.
    sql_host: "192.168.0.12"
    sql_port: 5432
    sql_username: "{{ system.user }}"
    sql_password: "{{ sql_password }}"
    sql_db: "fightfor"

    # Gunicorn Configuration Settings.
    gunicorn:
      host: "0.0.0.0"
      port: 5555
      workers: 1
      threads: 1
      worker_class: sync
      timeout: 60

    # Auth0 configuration settings.
    auth0:
      domain: "{{ auth0_dev_domain }}"
      audience: "{{ auth0_dev_audience }}"
      jwks_url: "{{ auth0_dev_jwks_url }}"
      client_id: "{{ auth0_dev_client_id }}"
      client_secret: "{{ auth0_dev_client_secret }}"

  prod:
    # General Settings.
    logger_level: INFO

    # PostgreSQL Server Configuration Settings.
    sql_host: "localhost"
    sql_port: 5432
    sql_username: "{{ system.user }}"
    sql_password: "{{ sql_password }}"
    sql_db: "fightfor"

    # Gunicorn Configuration Settings.
    gunicorn:
      host: "0.0.0.0"
      port: 5555
      workers: 4
      threads: 4
      worker_class: sync
      timeout: 60

    # Auth0 configuration settings.
    auth0:
      domain: "{{ auth0_dev_domain }}"
      audience: "{{ auth0_dev_audience }}"
      jwks_url: "{{ auth0_dev_jwks_url }}"
      client_id:
      client_secret:
