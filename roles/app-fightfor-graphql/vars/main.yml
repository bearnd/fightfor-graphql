---

# PostgreSQL variables

# Define the encrypted SQL password variable outside the nested structures due
# to the issue described in https://stackoverflow
# .com/questions/50770524/ansible-vault-inline-variable-with-to-nice-json
# -unexpected-templating-type-erro
sql_password: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  65353164626630373133623831373638383666366638663939616636663366323434393837393033
  3436356263343466303365376666336330656139376364370a623037653232316531383335313062
  35386438373536353330653233316264363636376432646135346634316566666534646161623435
  3534303538363433330a386434663861306362643632313939663939306365383664323335616363
  38323262323266316232313539663032386530653233306663393165643161643338646439646437
  3737393864313766633133346432346439613363623931316637

project:
  name: "fightfor-graphql"

system:
  # User name.
  user: "ffgraphql"
  # User group.
  group: "ffgraphql"
  # Application directories.
  directories:
    config: "/etc/{{ project.name }}"
    share: "/usr/local/share/{{ project.name }}"
    run: "/var/run/{{ project.name }}"
    log: "/var/log/{{ project.name }}"
    virtual_env: "/usr/local/share/{{ project.name }}/venvs/{{ project.name }}"

# Application Configuration Settings.
config:
  test:
    # General Settings.
    logger_level: DEBUG

    # PostgreSQL Server Configuration Settings.
    sql_host: "localhost"
    sql_port: 5432
    sql_username: "{{ system.user }}"
    sql_password: "{{ sql_password }}"
    sql_db: "test"

    # GraphiQL Settings.
    do_enable_graphiql: True
    path_graphiql: "/home/vagrant/fightfor-graphql/graphiql"

    # Gunicorn Configuration Settings.
    gunicorn:
      host: "0.0.0.0"
      port: 5555
      workers: 1
      threads: 1
      worker_class: sync
      timeout: 60

  dev:
    # General Settings.
    logger_level: DEBUG

    # PostgreSQL Server Configuration Settings.
    sql_host: "192.168.0.12"
    sql_port: 5432
    sql_username: "{{ system.user }}"
    sql_password: "{{ sql_password }}"
    sql_db: "fightfor"

    # GraphiQL Settings.
    do_enable_graphiql: True
    path_graphiql: "/home/vagrant/fightfor-graphql/graphiql"

    # Gunicorn Configuration Settings.
    gunicorn:
      host: "0.0.0.0"
      port: 5555
      workers: 1
      threads: 1
      worker_class: sync
      timeout: 60

  prod:
    # General Settings.
    logger_level: INFO

    # PostgreSQL Server Configuration Settings.
    sql_host: "localhost"
    sql_port: 5432
    sql_username: "{{ system.user }}"
    sql_password: "{{ sql_password }}"
    sql_db: "fightfor"

    # GraphiQL Settings.
    do_enable_graphiql: False
    path_graphiql:

    # Gunicorn Configuration Settings.
    gunicorn:
      host: "0.0.0.0"
      port: 5555
      workers: 4
      threads: 4
      worker_class: sync
      timeout: 60
